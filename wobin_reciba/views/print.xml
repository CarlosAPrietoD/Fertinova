<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!--========================================Impresión de formato con precio==================================-->

    <template id="report_ticket">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <t t-foreach="docs" t-as="ticket">
                    <br />
                    <div style="width: 100%;">
                        <table style="width: 100%; text-align: left;">
                            <tr>
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Tipo de operacion</th>
                                <td t-if="ticket['ticket'].operation_type == 'in'" style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Recepción
                                </td>
                                <td t-if="ticket['ticket'].operation_type == 'out'" style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Entrega
                                </td>
                                <td t-if="ticket['ticket'].operation_type == 'dev_sale'" style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Devolución sobre venta
                                </td>
                                <td t-if="ticket['ticket'].operation_type == 'dev_purchase'" style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Devolución sobre compra
                                </td>
                                <td t-if="ticket['ticket'].operation_type == 'transfer'" style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Transferencia
                                </td>
                                <td t-if="ticket['ticket'].operation_type == 'manufacturing'" style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Fabricación
                                </td>
                                <td style="width: 50%;" rowspan="7">

                                </td>
                            </tr>
                            <tr>
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Id</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].id" />
                                </td>
                            </tr>
                            <tr>
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Boleta</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].name" />
                                </td>
                            </tr>
                            <tr t-if="ticket['ticket'].operation_type == 'in' or ticket['ticket'].operation_type == 'dev_purchase'">
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Proveedor</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].partner_id.name" />
                                </td>
                            </tr>
                            <tr t-if="ticket['ticket'].operation_type == 'out' or ticket['ticket'].operation_type == 'dev_sale'">
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Cliente</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].partner_id.name" />
                                </td>
                            </tr>
                            <tr>
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Producto</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].product_id.name" />
                                </td>
                            </tr>
                            <tr>
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Chofer</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].driver" />
                                </td>
                            </tr>
                            <tr>
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Placas unidad</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].plate_vehicle" />
                                </td>
                            </tr>
                            <tr t-if="ticket['ticket'].type_vehicle == 'trailer' or ticket['ticket'].type_vehicle == 'full'">
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Placas trailer</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].plate_trailer" />
                                </td>
                            </tr>
                            <tr t-if="ticket['ticket'].type_vehicle == 'full'">
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Placas segundo trailer</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].plate_second_trailer" />
                                </td>
                            </tr>
                            <tr>
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Analista</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].weigher" />
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                        </table>
                    </div>

                    <br />
                    <br />
                    <label>Parametros de calidad</label>
                    <br />

                    <div style="display: flex; padding-top: 20px; width: 100%;">
                        <table style="width: 100%;">
                            <tr>
                                <td style="width: 50%;">
                                    <table style="width: 100%; text-align: left;">
                                        <tr t-foreach="ticket['ticket'].params_id" t-as="param">
                                            <th style="width: 25%;">
                                                <t t-esc="param.quality_params_id.name" />
                                            </th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="param.value" />
                                            </td>
                                            <td style="width: 10%;">
                                                <t t-esc="param.unit" />
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                                <td style="width: 50%;">
                                    <table style="width: 100%; text-align: left;">
                                        <tr>
                                            <th style="width: 25%;">
                                                Suma de daños
                                            </th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="ticket['ticket'].sum_damage" />
                                            </td>
                                            <td style="width: 10%;">
                                                %
                                            </td>
                                        </tr>
                                        <tr>
                                            <th style="width: 25%;">
                                                Suma de quebrados
                                            </th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="ticket['ticket'].sum_broken" />
                                            </td>
                                            <td style="width: 10%;">
                                                %
                                            </td>
                                        </tr>
                                        <tr>
                                            <th style="width: 25%;">Humedad</th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="ticket['ticket'].humidity" />
                                            </td>
                                            <td style="width: 10%;">%</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 25%;">Impureza</th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="ticket['ticket'].impurity" />
                                            </td>
                                            <td style="width: 10%;">%</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 25%;">Peso neto analizado</th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="ticket['total_format']" />
                                            </td>
                                            <td style="width: 10%;">Kg</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 25%;">Precio</th>
                                            <t t-if="ticket['ticket'].price_po">
                                                <td style="width: 15%; border-bottom: black 1px solid;">
                                                    $
                                                    <t t-esc="ticket['ticket'].price_po" />
                                                </td>
                                            </t>
                                            <t t-elif="ticket['ticket'].price_so">
                                                <td style="width: 15%; border-bottom: black 1px solid;">
                                                    $
                                                    <t t-esc="ticket['ticket'].price_so" />
                                                </td>
                                            </t>
                                            <t t-else="">
                                                <td style="width: 15%; border-bottom: black 1px solid;">
                                                    Por asignar</td>
                                            </t>

                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <div style="width: 100%; padding-top: 150px;">
                        <table style="width: 100%; text-align: center;">
                            <tr>
                                <th style="width: 33%; ">
                                    <div style="width: 94%; margin-left: 3%; margin-right: 3%; border-top: black 1px solid;">
                                        Analista</div>
                                </th>
                                <th style="width: 33%; " t-if="ticket['ticket'].operation_type == 'in' or ticket['ticket'].operation_type == 'dev_purchase'">
                                    <div style="width: 94%; margin-left: 3%; margin-right: 3%; border-top: black 1px solid;">
                                        Proveedor/Chofer</div>
                                </th>
                                <th style="width: 33%; " t-if="ticket['ticket'].operation_type == 'out' or ticket['ticket'].operation_type == 'dev_sale'">
                                    <div style="width: 94%; margin-left: 3%; margin-right: 3%; border-top: black 1px solid;">
                                        Cliente/Chofer</div>
                                </th>
                                <th style="width: 33%; " t-if="ticket['ticket'].operation_type == 'manufacturing' or ticket['ticket'].operation_type == 'transfer'">
                                    <div style="width: 94%; margin-left: 3%; margin-right: 3%">
                                    </div>
                                </th>
                                <th style="width: 33%; ">
                                    <div style="width: 94%; margin-left: 3%; margin-right: 3%; border-top: black 1px solid;">
                                        Sello</div>
                                </th>
                            </tr>
                        </table>
                    </div>

                </t>
            </t>
        </t>
    </template>

    <report id="report_ticket_price" string="Imprimir boleta con precio" model="reciba.ticket" report_type="qweb-html" name="wobin_reciba.report_ticket" menu="False"/>

    <!--========================================Impresión de formato sin precio==================================-->

    <template id="report_ticket_priceless">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <t t-foreach="docs" t-as="ticket">
                    <br />
                    <div style="width: 100%;">
                        <table style="width: 100%; text-align: left;">
                            <tr>
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Tipo de operacion</th>
                                <td t-if="ticket['ticket'].operation_type == 'in'" style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Recepción
                                </td>
                                <td t-if="ticket['ticket'].operation_type == 'out'" style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Entrega
                                </td>
                                <td t-if="ticket['ticket'].operation_type == 'dev_sale'" style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Devolución sobre venta
                                </td>
                                <td t-if="ticket['ticket'].operation_type == 'dev_purchase'" style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Devolución sobre compra
                                </td>
                                <td t-if="ticket['ticket'].operation_type == 'transfer'" style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Transferencia
                                </td>
                                <td t-if="ticket['ticket'].operation_type == 'manufacturing'" style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Fabricación
                                </td>
                                <td style="width: 50%;" rowspan="7">

                                </td>
                            </tr>
                            <tr>
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Id</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].id" />
                                </td>
                            </tr>
                            <tr>
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Boleta</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].name" />
                                </td>
                            </tr>
                            <tr t-if="ticket['ticket'].operation_type == 'in'">
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Proveedor</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].partner_id.name" />
                                </td>
                            </tr>
                            <tr>
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Producto</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].product_id.name" />
                                </td>
                            </tr>
                            <tr t-if="ticket['ticket'].operation_type != 'manufacturing'">
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Chofer</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].driver" />
                                </td>
                            </tr>
                            <tr t-if="ticket['ticket'].operation_type != 'manufacturing'">
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Placas unidad</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].plate_vehicle" />
                                </td>
                            </tr>
                            <tr t-if="ticket['ticket'].type_vehicle == 'trailer' or ticket['ticket'].type_vehicle == 'full'">
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Placas trailer</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].plate_trailer" />
                                </td>
                            </tr>
                            <tr t-if="ticket['ticket'].type_vehicle == 'full'">
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Placas segundo trailer</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].plate_second_trailer" />
                                </td>
                            </tr>
                            <tr>
                                <th style="width: 20%; padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    Analista</th>
                                <td style="width: 30%;  padding-top: 5px; padding-bottom: 5px; border-bottom: solid 1px black;">
                                    <t t-esc="ticket['ticket'].weigher" />
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                        </table>
                    </div>

                    <br />
                    <br />
                    <label>Parametros de calidad</label>
                    <br />

                    <div style="display: flex; padding-top: 20px; width: 100%;">
                        <table style="width: 100%;">
                            <tr>
                                <td style="width: 50%;">
                                    <table style="width: 100%; text-align: left;">
                                        <tr t-foreach="ticket['ticket'].params_id" t-as="param">
                                            <th style="width: 25%;">
                                                <t t-esc="param.quality_params_id.name" />
                                            </th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="param.value" />
                                            </td>
                                            <td style="width: 10%;">
                                                <t t-esc="param.unit" />
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                                <td style="width: 50%;">
                                    <table style="width: 100%; text-align: left;">
                                        <tr>
                                            <th style="width: 25%;">
                                                Suma de daños
                                            </th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="ticket['ticket'].sum_damage" />
                                            </td>
                                            <td style="width: 10%;">
                                                %
                                            </td>
                                        </tr>
                                        <tr>
                                            <th style="width: 25%;">
                                                Suma de quebrados
                                            </th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="ticket['ticket'].sum_broken" />
                                            </td>
                                            <td style="width: 10%;">
                                                %
                                            </td>
                                        </tr>
                                        <tr>
                                            <th style="width: 25%;">Humedad</th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="ticket['ticket'].humidity" />
                                            </td>
                                            <td style="width: 10%;">%</td>
                                        </tr>
                                        <tr>
                                            <th style="width: 25%;">Impureza</th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="ticket['ticket'].impurity" />
                                            </td>
                                            <td style="width: 10%;">%</td>
                                        </tr>
                                        <tr t-if="ticket['ticket'].operation_type != 'manufacturing'">
                                            <th style="width: 25%;">Peso neto analizado</th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="ticket['total_format']" />
                                            </td>
                                            <td style="width: 10%;">Kg</td>
                                        </tr>
                                        <tr t-if="ticket['ticket'].operation_type == 'manufacturing'">
                                            <th style="width: 25%;">Cantidad producida</th>
                                            <td style="width: 10%; border-bottom: black 1px solid;">
                                                <t t-esc="ticket['ticket'].qty_manufacturing" />
                                            </td>
                                            <td style="width: 10%;">Kg</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <div style="width: 100%; padding-top: 150px;">
                        <table style="width: 100%; text-align: center;">
                            <tr>
                                <th style="width: 33%; ">
                                    <div style="width: 94%; margin-left: 3%; margin-right: 3%; border-top: black 1px solid;">
                                        Analista</div>
                                </th>
                                <th style="width: 33%; " t-if="ticket['ticket'].operation_type == 'in' or ticket['ticket'].operation_type == 'dev_purchase'">
                                    <div style="width: 94%; margin-left: 3%; margin-right: 3%; border-top: black 1px solid;">
                                        Proveedor/Chofer</div>
                                </th>
                                <th style="width: 33%; " t-else="">
                                    <div style="width: 94%; margin-left: 3%; margin-right: 3%">
                                        </div>
                                </th>
                                <th style="width: 33%; ">
                                    <div style="width: 94%; margin-left: 3%; margin-right: 3%; border-top: black 1px solid;">
                                        Sello</div>
                                </th>
                            </tr>
                        </table>
                    </div>

                </t>
            </t>
        </t>
    </template>

    <report id="report_priceless" string="Imprimir boleta sin precio" model="reciba.ticket" report_type="qweb-html" name="wobin_reciba.report_ticket_priceless" menu="False"/>

</odoo>
