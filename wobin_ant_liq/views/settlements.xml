<odoo>
  <data>
    <!--::::::::::::::::::::::::::::::::::::::::::::-->
    <!-- VIEWS {LISTS, FORMS, SEARCH} -->
    <!--::::::::::::::::::::::::::::::::::::::::::::-->

    <!-- SETTLEMENTS - SEARCH VIEW -->    
    <record id="view_settlements_tree" model="ir.ui.view"> 
      <field name="name">Settlements</field>
      <field name="model">wobin.settlements</field>
        <field name="arch" type="xml"> 
            <search> 
              <field name="name"/>
              <field name="operator_id"/>            
              <field name="date"/>                 
              <field name="trip_id"/>
              <field name="state"/>
            </search> 
        </field> 
    </record>    

    <!-- SETTLEMENTS - LIST VIEW -->
    <record id="view_settlements_list" model="ir.ui.view">
      <field name="name">Settlements</field>
      <field name="model">wobin.settlements</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="operator_id"/>            
          <field name="date"/>                 
          <field name="trip_id"/>   
          <field name="state"/>
        </tree>
      </field>
    </record>    

    <!-- SETTLEMENTS - FORM VIEW -->
    <record id="view_settlements_form" model="ir.ui.view"> 
        <field name="name">Settlements</field> 
        <field name="model">wobin.settlements</field> 
        <field name="arch" type="xml"> 
            <form> 
                <header>
                    <button name="create_payment" type="object" string="Create Payment" class="oe_highlight" attrs="{'invisible': ['|', ('btn_crt_payment', '=', False), ('state', '!=', 'pending')]}"/>
                    <button name="mark_settled" type="object" string="Mark Settled" class="oe_highlight" attrs="{'invisible': ['|', ('btn_mark_settle', '=', False), ('state', '!=', 'pending')]}"/>
                    <button name="send_debtor" type="object" string="Send to Debtor" class="oe_highlight" attrs="{'invisible': ['|', ('btn_debtor_new_adv', '=', False), ('state', '!=', 'pending')]}"/>
                    <button name="create_advance" type="object" string="Give amount in New Advance" class="oe_highlight" attrs="{'invisible': ['|', ('btn_debtor_new_adv', '=', False), ('state', '!=', 'pending')]}"/> 
                    <button name="settle_operation" type="object" string="Settle" class="oe_highlight" attrs="{'invisible': [('state', '!=', 'ready')]}"/> 
                    <field name="state" widget="statusbar" statusbar_visible="pending,ready,settled"/>
                </header>
                <sheet> 
                    <div class="oe_left oe_title">
                        <h1>
                            <field name="name" readonly="True"/>
                        </h1>
                    </div>
                    <div style="margin-top: 50px; margin-bottom: 15px;" class="p-3 bg-info text-white text-center" attrs="{'invisible': [('label_process', '=', False)]}">
                        <field name="label_process"/>
                    </div>
                    <group>
                        <group>
                          <field name="operator_id" required="True"/>          
                          <field name="date" required="True"/>
                          <field name="trip_id" required="True"/>                          
                        </group>  
                        <group>
                          <field name="attachments" widget="many2many_binary"/>
                          
                          <field name="btn_crt_payment" invisible="True"/>
                          <field name="payment_related_id" attrs="{'invisible': [('btn_crt_payment', '=', False)]}"/>

                          <field name="btn_mark_settle" invisible="True"/>                                    

                          <field name="btn_debtor_new_adv" invisible="True"/> 
                          <field name="acc_mov_related_id" attrs="{'invisible': [('btn_debtor_new_adv', '=', False)]}"/>
                          <field name="advance_related_id" attrs="{'invisible': [('btn_debtor_new_adv', '=', False)]}"/>                     
                        </group>                                                
                    </group>
                    <field name="adv_set_lines_ids" readonly="True">
                        <tree>
                            <field name="advance_sum_amnt" />
                            <field name="comprobation_sum_amnt"/>
                            <field name="trip_id"/>
                            <field name="amount_to_settle"/>
                        </tree>
                    </field>                                                                
                </sheet>              
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>               
            </form> 
        </field> 
    </record>


    <!--:::::::::::::::::::::::::::::::::::::::::::::::::-->
    <!-- VIEWS FOR CONCEPTS MODEL {LISTS, FORMS, SEARCH} -->
    <!--:::::::::::::::::::::::::::::::::::::::::::::::::-->

    <!-- SETTINGS - SEARCH VIEW -->    
    <record id="view_settlements_tree" model="ir.ui.view"> 
      <field name="name">Concepts</field>
      <field name="model">wobin.concepts</field>
        <field name="arch" type="xml"> 
            <search> 
              <field name="name"/>
              <field name="account_account_id"/>            
            </search> 
        </field> 
    </record>    

    <!-- SETTLEMENTS - LIST VIEW -->
    <record id="view_settlements_list" model="ir.ui.view">
      <field name="name">Concepts</field>
      <field name="model">wobin.concepts</field>
      <field name="arch" type="xml">
        <tree>
            <field name="name"/>
            <field name="account_account_id"/>
        </tree>
      </field>
    </record>    

    <!-- SETTLEMENTS - FORM VIEW -->
    <record id="view_settlements_form" model="ir.ui.view"> 
        <field name="name">Concepts</field> 
        <field name="model">wobin.concepts</field> 
        <field name="arch" type="xml"> 
            <form> 
                <sheet> 
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="account_account_id"/>                         
                        </group>                                                  
                    </group>                                                                                   
                </sheet> 
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>                                     
            </form> 
        </field> 
    </record>

  </data>  
</odoo> 